<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- $Id$ -->

<sect1 id="gallery1-install.upgrade">
 <title>Upgrading a Previous Gallery Installation</title>

 <para>
  This sections describes how to upgrade your Gallery from an old version to
  a new one.  Upgrading is very easy, and you won't loose any data if you
  follow all the directions.
 </para>
 
 <sect2 id="gallery1-install.upgrade.shell">
  <title>Upgrading with Shell Access</title>
  
  <orderedlist>
   <listitem>
    <para>
     Make a backup of your old Gallery installation.  The easiest way to do
     this is to use the <command>tar</command> command.
     <screen>
      tar -cz gallery > gallery-backup.tar.gz
     </screen>
     On Windows, use something like WinZip to create an archive of your Gallery
     directory.
    </para>
   </listitem>
   <listitem>
    <para>
     <emphasis>Put your Gallery into configuration mode</emphasis>.  This is
     very important.
     <screen>
      cd gallery
      sh configure.sh (or configure.bat for Windows)
     </screen>
    </para>
   </listitem>
   <listitem> 
    <para>
     Download Gallery from the <ulink url="http://sourceforge.net/project/showfiles.php?group_id=7130">
     Gallery SF.net Download Page</ulink>.  Put the tarball in your gallery directory's
     parent directory.
    </para>
   </listitem>
   <listitem>
    <para>
     Untar the new Gallery version over the old one.
     <screen>
      tar -xvzf gallery-1.x.x.tar.gz
      [list of new files]
     </screen>
     Windows users: use WinZip to extract Gallery over the old installation
    </para>
   </listitem>
   <listitem>
    <para>
     Re-run the <link linkend="gallery1-install.config-wizard">configuration
     wizard</link>.  Afterward, put Gallery back into secure mode, as described
     in that guide.
    </para>
   </listitem>
   <listitem>
    <para>
     Enjoy your upgraded Gallery!
    </para>
   </listitem>
  </orderedlist>
 </sect2>
 
 <sect2 id="gallery1-install.upgrade.ftp">
  <title>Upgrading Gallery with FTP</title>
  
  <orderedlist>
   <listitem>
    <para>
     Make a backup copy of your Gallery directory.  Use your FTP client to download
     the old Gallery directory, just in case
    </para>
   </listitem>
   <listitem>
    <para>
     Put your Gallery into configuration mode, by chmodding &htaccess;
     and &config.php; 0777 and by chmodding the
     <filename>setup/</filename> directory 0755.
    </para>
   </listitem>
   <listitem> 
    <para>
     Download Gallery from the <ulink url="http://sourceforge.net/project/showfiles.php?group_id=7130">
     Gallery SF.net Download Page</ulink>.  Untar it using <command>tar</command>
     or WinZip on your computer.
    </para>
   </listitem>
   <listitem>
    <para>
     Using your FTP client, upload the new Gallery files over the old Gallery files.
     Yes, this will override the old Gallery files, but this is OK!
    </para>
   </listitem>
   <listitem>
    <para>
     Re-run the <link linkend="gallery1-install.config-wizard">configuration
     wizard</link>.  Afterward, put Gallery back into secure mode, as described
     in that guide.
    </para>
   </listitem>
   <listitem>
    <para>
     Enjoy your upgraded Gallery!
    </para>
   </listitem>
  </orderedlist>
 </sect2>
      
</sect1>
