<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>C. Troubleshooting Gallery</title><meta name="generator" content="DocBook XSL Stylesheets V1.64.1"><link rel="home" href="index.html" title="Gallery Manual"><link rel="up" href="gallery1-install.faq.html" title="Frequently Asked Questions"><link rel="previous" href="gallery1-install.faq.b.html" title="B. Configuring Gallery"><link rel="next" href="gallery1-install.faq.d.html" title="D. Migrating Gallery"><link rel="stylesheet" href="html.css"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">C. Troubleshooting Gallery</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="gallery1-install.faq.b.html">Prev</a> </td><th width="60%" align="center">Frequently Asked Questions</th><td width="20%" align="right"> <a accesskey="n" href="gallery1-install.faq.d.html">Next</a></td></tr></table><hr></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="gallery1-install.faq.c"></a>C. Troubleshooting Gallery</h3></div></div><div></div></div><div class="qandaset"><dl></dl><table border="0" summary="Q and A Set"><col align="left" width="1%"><tbody><tr class="toc" colspan="2"><td align="left" valign="top" colspan="2"><dl><dt>C.1. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.1">
       When I try to access the configuration wizard, I get a 500
       Internal Server Error.  What's up?
      </a></dt><dt>C.2. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.2">
       I've installed Gallery and all seems well. But when I try to upload an
       image it says Unable to make thumbnail(0) or 
       Invalid image. What gives?
      </a></dt><dt>C.3. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.3">
       My ISP has a really old version of PHP, something before 4.0.4pl1, which
       Gallery can't work with.  What do I do?
      </a></dt><dt>C.4. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.4">
       Whenever I try to upload grayscale JPEG images I get a Unable to
       make thumbnail error.  Why?
      </a></dt><dt>C.5. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.5">
       Whenever I try to upload an image in Gallery, I get all these errors about
       safe mode.  How can I fix this?
      </a></dt><dt>C.6. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.6">
       Why can't I upload big files (over a megabyte or two)?
      </a></dt><dt>C.7. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.7">
       When I try to run configure.sh, I get an error like this:
       chmod: getting attributes of `setup\r': No such file or directory
       How do I fix that?
      </a></dt><dt>C.8. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.8">
       When I try to click on the "[login]" link on the Gallery page, nothing happens
       (no window pops up).  What's wrong?
      </a></dt><dt>C.9. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.9">
       When I try to login, everything seems to go correctly, but Gallery doesn't
       log me in?
      </a></dt><dt>C.10. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.10">
       Why do I see Warning: Undefined variable: GALLERY_BASEDIR...
        at the top of the page?
      </a></dt><dt>C.11. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.11">
       I can successfully upload photos, but when I look in my album all I see
       are broken image icons. Why?
      </a></dt><dt>C.12. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.12">
       Why do I get Failed opening 'html_wrap/inline_albumthumb.header.default'
      </a></dt><dt>C.13. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.13">
       Why do I see this error:
       
        jpegtopnm: WRITING PPM FILE
        option `--quality' doesn't allow an argument?
       
      </a></dt><dt>C.14. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.14">
       Why, when I try to upload images, does it say No images uploaded
       ?
      </a></dt><dt>C.15. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.15">
       Why do I get this error: Warning: fopen(".../albums/team/album.dat.lock","a+")?
      </a></dt><dt>C.16. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.16">
       Why do I get the error Allowed memory size of Xxx bytes exhausted
       ?
      </a></dt><dt>C.17. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.17">
       Why do I get pnmtojpeg: No such file or directory when uploading
       images?
      </a></dt><dt>C.18. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.18">
       Why do I get this warning: Your script possibly relies on a
       session side-effect which existed until PHP 4.2.3?
      </a></dt><dt>C.19. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.19">
       Why, when I try to upload a .htaccess and chmod it with my FTP client,
       it "disappears"?
      </a></dt><dt>C.20. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.20">
       Why does uploading pictures on my RedHat 8.0 system result in an error
       or scewed picture?
      </a></dt><dt>C.21. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.21">
       Why doesn't Gallery work correctly on my RedHat 9.0 system?
      </a></dt><dt>C.22. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.22">
       How do I use Gallery both from inside my LAN and the internet?
      </a></dt><dt>C.23. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.23">
       I'm running Gallery 1.3.4, PHP 4.0.4 and I get Call to undefined
       function: array_search() in view_photo.php?
      </a></dt><dt>C.24. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.24">
       Why, when I edit an album or photo's text, do quotation marks appear
       as \' (e.g. John Doe\'s Album)?
      </a></dt><dt>C.25. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.25">
       I can't extract a .tar.gz file on my Windows machine.
       Why not?
      </a></dt><dt>C.26. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.26">
       Why do I get an EOF / read error reading magic number
       error when uploading pictures with NetPBM?
      </a></dt><dt>C.27. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.27">
       Why do I get errors like this: Warning: open_basedir restriction in effect. File is in wrong
       directory in /home/johndoe/public_html/gallery/platform/fs_unix.php on line 53?
      </a></dt><dt>C.28. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.28">
       Why do I get this error: Warning: write failed: No space left on device (28) in Unknown on line 0?
      </a></dt><dt>C.29. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.29">
       Why do I get this error: Warning:  exec() has been disabled for security reasons?
      </a></dt><dt>C.30. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.30">
       Why can't I upload images using ImageMagick on FreeBSD?
      </a></dt><dt>C.31. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.31">
       How do I put my Gallery into debug mode?
      </a></dt><dt>C.32. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.32">
       I have uploaded the NetPBM or ImageMagick binaries to my site, but
       I don't know the absolute path to specify in the configuration
       wizard.  What do I do?
      </a></dt><dt>C.33. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.33">
       When I try to enter an album, I get a 404 error.  What's up?
      </a></dt><dt>C.34. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.34">
       I changed a value on Step 3 of the configuration wizard (or in
       config.php), but the change isn't taking effect.  What's going on?
      </a></dt><dt>C.35. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.35">
       Can I host images on another server to conserve space?
      </a></dt><dt>C.36. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.36">
       Why do I get errors with email on Windows?
      </a></dt><dt>C.37. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.37">
       I've forgotten my admin password!  How can I reset it?
      </a></dt><dt>C.38. <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.38">
       Why are my picture frames screwed up?
      </a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.1"></a><a name="id2523370"></a><b>C.1.</b></td><td align="left" valign="top"><p>
       When I try to access the configuration wizard, I get a <tt class="literal">500
       Internal Server Error</tt>.  What's up?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       This is because your webserver doesn't allow you to use certain
       <tt class="filename">.htaccess</tt> overrides.  The Gallery setup script tries to set some
       PHP settings, but this requires you to set <tt class="literal">AllowOverride Options
       FileInfo</tt> or disable the overrides.  If you have access to your
       <tt class="filename">httpd.conf</tt> file, add this to it:
       </p><pre class="screen">
        &lt;Directory "<tt class="filename">/path/to/your/gallery/directory</tt>"&gt;
         AllowOverride Options FileInfo
        &lt;/Directory&gt;
       </pre><p>
      </p><p>
       If you don't have access to your <tt class="filename">httpd.conf</tt>, delete
       the <tt class="filename">.htaccess</tt> file in the <tt class="filename">setup/</tt>
       directory.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.2"></a><a name="id2523456"></a><b>C.2.</b></td><td align="left" valign="top"><p>
       I've installed Gallery and all seems well. But when I try to upload an
       image it says <tt class="literal">Unable to make thumbnail(0)</tt> or 
       <tt class="literal">Invalid image</tt>. What gives?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       This is a very common problem.  It's usually because the image manipulation
       program isn't getting called correctly, and this can happen for a number
       of reasons.  To diagnose the problem, follow these steps:
      </p><div class="orderedlist"><ol type="1"><li><p>
         <span class="emphasis"><em>
          Verify that the binaries (NetPBM or ImageMagick) are installed
          correctly and are chmodded 0755 (including the directory they are in).
         </em></span>
        </p><p>
         One common installation mistake is to put the executable in a path
         that contains spaces. This happens often on Windows, if either
         package is installed in <tt class="filename">Program Files</tt>. The
         executables <span class="emphasis"><em>must not be installed in a path that contains spaces</em></span>.
        </p></li><li><p>
         Put Gallery back into configuration mode (see the tutorials earlier
         in the manual for details)
        </p></li><li><p>
         Re-run the <a href="gallery1-install.config-wizard.html" title="The Configuration Wizard">configuration
         wizard</a>.  On step 2, select the option to put Gallery into
         <span class="emphasis"><em>debug mode</em></span>.  Finish the configuration wizard and
         secure Gallery (this is described in the configuration wizard tutorial).
        </p></li><li><p>
         Attempt to upload a picture.  There will be a whole lot more debugging
         messages now, and it will help to diagnose the problem.  Possible issues
         are listed below
        </p></li></ol></div><p>
       If you see any of the following messages, the solutions are listed below
      </p><div class="itemizedlist"><ul type="disc"><li><p>
         <span class="emphasis"><em>Error in loading shared libraries</em></span> -- Indicates
         that your dynamic library loader can't find a library that it needs.
         On Linux you can add the directory containing the appropriate library
         to <tt class="filename">/etc/ld.so.conf</tt> and then run <span><b class="command">ldconfig
         -v</b></span> as root to fix this.  If you don't have root access to the
         server, either contact your host for help or download a new version
         of ImageMagick or NetPBM and use the new install instead.
        </p></li><li><p>
         <span class="emphasis"><em>Abort trap</em></span> or <span class="emphasis"><em>Segmentation Fault</em></span> or
         <span class="emphasis"><em>Cannot execute binary file</em></span>
         -- probably means you installed the wrong binaries for your system (e.g.
         installed the FreeBSD binaries on a Linux system) or you uploaded the binaries
         in <tt class="literal">ASCII FTP mode</tt> instead of <tt class="literal">BINARY FTP mode</tt>.
        </p></li><li><p>
         <span class="emphasis"><em>Permission Denied</em></span> -- More than likely, your NetPBM directory
         or the actual NetPBM binaries are not chmodded 0755.  It could also mean that your
         host has disallowed you from executing programs; if this is the case, you must talk
         to them in order to get it resolved.
        </p></li><li><p>
         <span class="emphasis"><em>/usr/bin/convert: Not a JPEG file: starts with 0x0a 0x4d
         (/home/uspalmer/public_html/gallery/AUTHORS).</em></span> -- This is a bug
         that has been fixed with the latest version of Gallery, please upgrade.
        </p></li><li><p>
         <span class="emphasis"><em>/usr/local/bin/convert: no delegate for this image format
         (/home/sites/home/web/albums/album_01/IMGP0215.jpg)</em></span> -- This
         means ImageMagick doesn't have the appropriate libraries to handle
         a type of image format (in this case JPEG).  If you have root access, make
         sure the appropriate image libraries are installed or ask your host to
         verify this.  If not, you can try using NetPBM from the Gallery Download
         Page, which has all major image formats already included.  If you are using
         FreeBSD and installed ImageMagick from the ports collection, see
         <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.30">FAQ C.30</a>.
        </p></li><li><p>
         <span class="emphasis"><em>Status: (expected 0)</em></span> -- This means that Gallery is unable to 
         get a status message from PHP, which it relies on. One possible solution is that 
         your host has disabled some needed php functions. To determine if they have create
         a PHP file containing
          </p><pre class="screen">

&lt;?php
echo ini_get("disable_functions");
?&gt;

          </pre><p>
         If the output displays exec() see <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.29">FAQ C.29</a>.
        </p></li></ul></div><p>
       If you still can't find a solution, try asking in the <a href="http://gallery.sf.net/forums.php" target="_top">
       Gallery Support Forums</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.3"></a><a name="id2523740"></a><b>C.3.</b></td><td align="left" valign="top"><p>
       My ISP has a really old version of PHP, something before 4.0.4pl1, which
       Gallery can't work with.  What do I do?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       First, send them a quick email and ask them if they are willing to upgrade.
       They should considering a PHP version this old is years and years old, and
       probably contains security problems.  Your only other good option is to
       install PHP as a CGI, as in <a href="gallery1-install.faq.b.html#gallery1-install.faq.b.3">FAQ B.3
       </a>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.4"></a><a name="id2523776"></a><b>C.4.</b></td><td align="left" valign="top"><p>
       Whenever I try to upload grayscale JPEG images I get a <tt class="literal">Unable to
       make thumbnail</tt> error.  Why?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       This is a bug in some versions of NetPBM that cause it to choke on grayscale
       images.  This is fixed in the version of NetPBM available on the Gallery
       download page.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.5"></a><a name="id2523807"></a><b>C.5.</b></td><td align="left" valign="top"><p>
       Whenever I try to upload an image in Gallery, I get all these errors about
       <tt class="literal">safe mode</tt>.  How can I fix this?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       This is an unfortunate situation, because Gallery cannot run in safe mode.
       You have three options, listed below (try them in that order).
      </p><div class="orderedlist"><ol type="1"><li><p>
         Email your host asking them to turn off safe mode.  They are providing a
         service to you, and safe mode puts severe limits on that.  If they are a
         good host, they should listen
        </p></li><li><p>
         Try <a href="gallery1-install.faq.b.html#gallery1-install.faq.b.3">FAQ B.3</a>, where you can
         use PHP as a CGI.  This is usually pretty difficult, if you don't know exactly
         what you're doing.
        </p></li><li><p>
         Find another host that doesn't use safe mode.  Some are listed in the
         <a href="http://gallery.sourceforge.net/wiki.php?page=Web%20Hosting%20Referral%20Page" target="_top">
         Gallery Hosting Referrals Page</a>
        </p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.6"></a><a name="id2523887"></a><b>C.6.</b></td><td align="left" valign="top"><p>
       Why can't I upload big files (over a megabyte or two)?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       Craig Goranson wrote a very informative <a href="http://marc.theaimsgroup.com/?l=gallery-users&amp;m=102589601604892&amp;w=2" target="_top">
       email</a> about how to fix this.
      </p><p>
       If you're using Apache 2, especially with something like RedHat, you may
       need to edit another directive, <tt class="literal">LimitRequestBody</tt>, as
       described in <a href="http://gallery.menalto.com/index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=7419" target="_top">
       this forum post</a>.  Setting this directive to 0 (i.e. <tt class="literal">
       LimitRequestBody 0</tt>) will allow you to upload as big a file as
       you want (until you hit <tt class="literal">upload_max_filesize</tt> and/or
       <tt class="literal">post_max_size</tt> -- see the above email link for more
       information).
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.7"></a><a name="id2523954"></a><b>C.7.</b></td><td align="left" valign="top"><p>
       When I try to run <span><b class="command">configure.sh</b></span>, I get an error like this:
       <tt class="literal">chmod: getting attributes of `setup\r': No such file or directory</tt>
       How do I fix that?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       The answer is to simply upload the <tt class="filename">configure.sh</tt> file
       in <tt class="literal">ASCII FTP mode</tt>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.8"></a><a name="id2524000"></a><b>C.8.</b></td><td align="left" valign="top"><p>
       When I try to click on the "[login]" link on the Gallery page, nothing happens
       (no window pops up).  What's wrong?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       The most common reason for this is that you have JavaScript disabled or limited
       in your browser.  Make sure that JavaScript is allowed to open windows, or else
       you may not be able to login to Gallery.
      </p><p>
       The number two reason for this problem is that your login page has a
       slightly different hostname than the one you used for your gallery.
       You can check this by right clicking on the login page and selecting
       Properties to see what its URL is. The common cause for this is that you
       used a variation on the standard URL to get to your Gallery, and then the
       browser thinks that the JavaScript popup is actually on a different host
       and it causes a security exception when the popup tries to control the
       main window. For example, if you've told Gallery in the config wizard that
       your gallery is at http://www.menalto.com/photos and then you actually
       access the Gallery by going to http://menalto.com/photos
       (note the "www" is missing), you'll still see your Gallery, but you'll
       experience this problem. The solution is to pick one hostname and stick
       with it.  
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.9"></a><a name="id2524046"></a><b>C.9.</b></td><td align="left" valign="top"><p>
       When I try to login, everything seems to go correctly, but Gallery doesn't
       log me in?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       There could be a few reasons why this doesn't work.  Here are some of them
      </p><div class="itemizedlist"><ul type="disc"><li><p>
         If you are on Windows, you need to edit your <tt class="literal">session.save_path
         </tt> directive in <tt class="filename">php.ini</tt> to a valid directory.
          This defaults to <tt class="filename">/tmp</tt> which isn't a valid directory
          on Windows.  Change it to a valid temp folder, such as
          <tt class="filename">c:\winnt\temp</tt>.  Then restart your webserver.
        </p><p>
         If you don't have access to <tt class="filename">php.ini</tt>, add this to the
         <tt class="filename">.htaccess</tt> file in your gallery directory.
         </p><pre class="screen">
          php_value session.save_path "c:\winnt\temp"
         </pre><p>
        </p></li><li><p>
         Make sure that the <tt class="literal">session.use_cookies</tt> setting is on
         in <tt class="filename">php.ini</tt>.  It defaults to on, but your host may
         have turned it off.  You can verify the setting by putting Gallery into
         configuration mode and visiting the <tt class="filename">setup/phpinfo.php</tt>
         page in your browser.  Search for that directive.
        </p></li><li><p>
         Verify that it is not <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.8">FAQ C.8
         </a>
        </p></li><li><p>
         Verify that your browser is configured to accept cookies.  If you have
         this functionality turned off, please turn it back on, or Gallery will
         not work.
        </p></li><li><p>
         Put Gallery back into configuration mode and visit the <tt class="filename">setup/
         session_test.php</tt> script.  Refresh the page and see if the
         number increases.  If it doesn't, you have a problem with sessions.  If you
         have done all of the above steps, you may need to contact your host for
         help.
        </p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.10"></a><a name="id2524204"></a><b>C.10.</b></td><td align="left" valign="top"><p>
       Why do I see <tt class="literal">Warning: Undefined variable: GALLERY_BASEDIR...
       </tt> at the top of the page?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       Gallery 1.x generates a ton of warnings. We're fixing this in the next
       release. In the meantime, you need to turn down the error reporting level
       in your <tt class="filename">php.ini</tt> file so that you don't see these
       warnings. You can do that by setting error_reporting = E_ALL &amp; ~E_NOTICE
       in <tt class="filename">php.ini</tt>. Then restart your Apache server.     
      </p><p>
       If you don't see a change after doing this, it's possible that you're
       editing the wrong php.ini file. Go to <tt class="filename">gallery/setup/phpinfo.php
       </tt> in your web browser and it will tell you (near the top of the
       file) where it thinks your <tt class="filename">php.ini</tt> file is located.
       After making the change, phpinfo() should say that your error_reporting
       level is "2039".
      </p><p>
       You can also add this line to your <tt class="filename">.htaccess</tt> file
       </p><pre class="screen">
        php_value error_reporting 2039
       </pre><p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.11"></a><a name="id2524289"></a><b>C.11.</b></td><td align="left" valign="top"><p>
       I can successfully upload photos, but when I look in my album all I see
       are broken image icons. Why?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       You've specified an incorrect path to your albums directory in the config
       wizard.  You can fix this by re-running the config wizard and correcting
       the Albums URL value or you can edit the <tt class="filename">config.php</tt>
       file and fix the $gallery-&gt;app-&gt;albumDirURL variable. 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.12"></a><a name="id2524323"></a><b>C.12.</b></td><td align="left" valign="top"><p>
       Why do I get <tt class="literal">Failed opening 'html_wrap/inline_albumthumb.header.default'</tt>
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       If you unzipped/untarred the Gallery script on a Mac running OS 9.2.1
       or less (ie, non OS X), once its uploaded, three files need to be renamed.
       They are in the HTML_Wrap folder - <tt class="filename">inline_albumthumb.footer.default
       </tt>, <tt class="filename">inline_albumthumb.header.default</tt>, and
       <tt class="filename">inline_gallerythumb.frame.default</tt>. The last few
       characters at the end of these file names will get truncated on the Mac
       so Gallery won't be able to find them (there will be an error message
       above and below each photo). Adding the 't' at the end in FTP or Telnet
       will solve this. This is only a problem if its untarred/gzipped on a Mac.
       If they are unzipped on the server they will work fine. [Thanks James
       O'Donnell]
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.13"></a><a name="id2524380"></a><b>C.13.</b></td><td align="left" valign="top"><p>
       Why do I see this error:
       </p><pre class="screen">
        jpegtopnm: WRITING PPM FILE
        option `--quality' doesn't allow an argument?
       </pre><p>
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       This problem is caused by one of two things:
      </p><div class="orderedlist"><ol type="1"><li><p>
         You have safe mode enabled.  Gallery can't run in this environment.  See
         <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.5">FAQ C.5</a> for more information
        </p></li><li><p>
         Your NetPBM binaries have a bug.  Please use the NetPBM binaries found
         on the Gallery Download Page.
        </p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.14"></a><a name="id2524441"></a><b>C.14.</b></td><td align="left" valign="top"><p>
       Why, when I try to upload images, does it say <tt class="literal">No images uploaded
       </tt>?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       This can be caused by one of two things:
      </p><div class="orderedlist"><ol type="1"><li><p>
         <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.6">FAQ C.6</a>
        </p></li><li><p>
         Your PHP configuration has file uploads disabled. Put Gallery in config
         mode and open <tt class="filename">gallery/setup/phpinfo.php</tt> in your
         web browser and search for the <tt class="literal">file_uploads</tt> row. If
         <tt class="literal">file_uploads</tt> isn't enabled, then you won't be able
         to upload images to Gallery, and you should talk to your system
         administrator.
        </p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.15"></a><a name="id2524519"></a><b>C.15.</b></td><td align="left" valign="top"><p>
       Why do I get this error: <tt class="literal">Warning: fopen(".../albums/team/album.dat.lock","a+")</tt>?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       This typically happens when your ISP makes a change in your environment
       (like upgrading PHP or moving things around) without telling you about it.
       In a nutshell, some of Gallery's files wind up being owned by the wrong
       user and their permissions become set such that Gallery can no longer
       write to them. I've never found this to be the result of a bug in Gallery.
       To fix this, you can change the permissions on your Gallery data files
       so that Apache can read the files again. This should only happen on Unix.
       If you have shell access, you can fix it like this:
       </p><pre class="screen">
        cd /path/to/albums
        cd ..
        chmod -R 777 albums
       </pre><p>
      </p><p>
       If you don't have shell access, you can use your FTP client to <span class="emphasis"><em>
       recursively (every file and every directory)</em></span> chmod the albums
       directory 777.  <span class="emphasis"><em>Make sure you chmod the <tt class="filename">.users</tt>
       directory, which can sometimes be hidden from view.  See <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.19">
       FAQ C.19</a> for more details</em></span>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.16"></a><a name="id2524590"></a><b>C.16.</b></td><td align="left" valign="top"><p>
       Why do I get the error <tt class="literal">Allowed memory size of Xxx bytes exhausted
       </tt>?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       [answered by Vallimar] You are exhausting the available memory that PHP
       has access to. In <tt class="filename">php.ini</tt> there is a config variable
       named <tt class="literal">memory_limit</tt> that by default is set to 8MB. I
       quickly exhausted this after uploading a couple thousand images and had
       to increase it.  Edit <tt class="filename">php.ini</tt> and increase it to a larger
       value (restart Apache afterwards).  If you don't have access to <tt class="filename">
       php.ini</tt>, you can add this line to your <tt class="filename">.htaccess</tt>
       file.
       </p><pre class="screen">
        php_value memory_limit [new memory limit]
       </pre><p>
       </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
         When adding that line to <tt class="filename">.htaccess</tt>, you must use a 
         number, in bytes.  For example, 8MB would be about 8000000 bytes.
        </p></div><p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.17"></a><a name="id2524676"></a><b>C.17.</b></td><td align="left" valign="top"><p>
       Why do I get <tt class="literal">pnmtojpeg: No such file or directory when uploading
       images</tt>?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       In version 9.19 of NetPBM, they changed the name of the <span><b class="command">ppmtojpeg
       </b></span> binary to <span><b class="command">pnmtojpeg</b></span>. It's the same binary
       and serves the same purpose, but it's got a different name. The precompiled
       binaries provided on the Gallery download page come with <span><b class="command">ppmtojpeg
       </b></span>. The newer stuff that you might get comes with <span><b class="command">pnmtojpeg
       </b></span>. Gallery tries really hard to figure out which one you have
       available and use it. However, security restrictions can make it impossible
       for us to tell for sure. So, it's possible that you have one version of the
       binary and Gallery expects the other. There are several easy solutions
       (you only need to do one of these):
      </p><div class="orderedlist"><ol type="1"><li><p>
         Copy <span><b class="command">ppmtojpeg</b></span> to <span><b class="command">pnmtojpeg</b></span>
         (or vice versa, as the case may be).
        </p></li><li><p>
         Edit your <tt class="filename">config.php</tt> and change 
         $gallery-&gt;app-&gt;pnmtojpeg to <tt class="literal">"ppmtojpeg"</tt>
        (or <tt class="literal">"pnmtojpeg"</tt>, whichever you have).
        </p></li><li><p>
         Upgrade to Gallery v1.3.4 which lets you specify which one you have in
         the config wizard.
        </p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.18"></a><a name="id2524799"></a><b>C.18.</b></td><td align="left" valign="top"><p>
       Why do I get this warning: <tt class="literal">Your script possibly relies on a
       session side-effect which existed until PHP 4.2.3</tt>?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       In PHP 4.2.3, they made a change to the way that the session code works
       that results in PHP generating a warning when a session is created.
       In order to resolve this, we have to update some code in Gallery.
       This warning has no effect, except that it shows up on screen. You can
       make it go away by editing your php.ini and setting
       </p><pre class="screen">
        session.bug_compat_warn to <tt class="literal">off</tt>
       </pre><p>
       and restart Apache.
      </p><p>
       If you don't have access to <tt class="filename">php.ini</tt>, add this line
       to your <tt class="filename">.htaccess</tt>
       </p><pre class="screen">
        php_flag session.bug_compat_warn off
       </pre><p>
      </p><p>
       This should be fixed in future versions of Gallery.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.19"></a><a name="id2524872"></a><b>C.19.</b></td><td align="left" valign="top"><p>
       Why, when I try to upload a <tt class="filename">.htaccess</tt> and chmod it with my FTP client,
       it "disappears"?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       This is because on some FTP clients, the default setting is to hide files
       that begin with a dot. The file may actually be on the server, but your
       FTP client isn't programmed to display it. To make these files
       "reappear", you must change some settings. PixelPoet has written a
       tutorial for WS_FTP available here:
       <a href="http://www.eclecticpixels.com/tutorials/chmod/" target="_top">Quick Tips
       for Chmod with WS_FTP</a>.  If you use CuteFTP, see
       <a href="http://gallery.menalto.com/modules.php?op=modload&amp;name=phpBB_14&amp;file=index&amp;topic=701&amp;action=viewtopic&amp;topic=1902" target="_top">
       this thread in the forums.</a>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.20"></a><a name="id2524922"></a><b>C.20.</b></td><td align="left" valign="top"><p>
       Why does uploading pictures on my RedHat 8.0 system result in an error
       or scewed picture?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       In RedHat 8.0, the default web server is Apache 2.0. Unfortunately, PHP
       and Apache 2 aren't very stable together yet, though current versions of
       PHP and Apache 2 do work relatively well together. However, there is a bug
       in the version of PHP distributed with RedHat 8.0 that can corrupt uploads.
       For information on how to fix these errors or scewed pictures, see
       <a href="http://gallery.menalto.com/modules.php?op=modload&amp;name=phpBB_14&amp;file=index&amp;action=viewtopic&amp;topic=4662" target="_top">     
       this thread in the forums</a>.  Keep in mind that these are merely
       workarounds.  The best option is to upgrade your PHP version to the latest
       from <a href="http://www.php.net/" target="_top">http://www.php.net/</a>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.21"></a><a name="id2524967"></a><b>C.21.</b></td><td align="left" valign="top"><p>
       Why doesn't Gallery work correctly on my RedHat 9.0 system?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       As in Red Hat Linux versions since 8.0, the default web server is Apache
       2. Apache 2.0 uses a totally different module API, making it necessary
       to rewrite all modules for this new version. Unfortunately, the PHP
       version that Red Hat 9.0 is distributed with has a very buggy interface
       with Apache 2.0. Some of these bugs have been fixed with the latest
       version of PHP. Please download the latest version from
       <a href="http://www.php.net/" target="_top">http://www.php.net/</a>.  See
       <a href="http://gallery.menalto.com/modules.php?op=modload&amp;name=phpBB_14&amp;file=index&amp;action=viewtopic&amp;topic=5741&amp;1" target="_top">
       this forum post</a> for information on how to compile PHP.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.22"></a><a name="id2525010"></a><b>C.22.</b></td><td align="left" valign="top"><p>
       How do I use Gallery both from inside my LAN and the internet?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        There is a fix planned for future versions of Gallery to allow the config
        wizard to use relative URLs.  Stay tuned.
       </p></div><p>
       There are two ways to do this; both are shown below:
       </p><div class="itemizedlist"><ul type="disc"><li><p>
          The easiest way to do this is to use relative URLs in <tt class="filename">config.php</tt>.
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
            You will have to redo this each time you run the config wizard, since
            the config wizard won't accept relative urls.
           </p></div><p>
          You need to edit <tt class="filename">config.php</tt> manually. There are two URLs in that file. Change each of them as follows:
         </p><p>
          From:
          <tt class="literal">http://www.example.com/gallery</tt>
          <tt class="literal">http://www.example.com/gallery/albums</tt>
          To:
          <tt class="literal">/gallery</tt>
          <tt class="literal">/gallery/albums</tt>
          (change these URL's to match your Gallery setup)
         </p></li><li><p>
          The second method does not require any server-side changes, as the changes you
          make are made on the client.  This may not be the most efficent solution, especially
          if you have many client computers.
         </p><p>
          You need to edit a file called HOSTS on your client machine. The HOSTS file is a ip-address to
          domain-name mapping file.  Adding a line to this file, will make your client look for a local
          ip instead of an external ip, even if you use a fully qualified domain name.
         </p><p>
          Add a line similar to this:
          </p><pre class="screen">
           10.0.0.2	example.com www.example.com
          </pre><p>
         </p><p>
          This line will make all requests to example.com (and www.example.com) request the server at
          10.0.0.2 (replace this with your server's real LAN IP address).
         </p><p>
          Depending on your client's operating system, the HOSTS file will be in a different place.
          Also note that on Windows clients, you will need to reboot the system for the changes
          to take place.
          </p><div class="itemizedlist"><ul type="circle"><li><p>
             <span class="emphasis"><em>Windows 95/98/ME</em></span> <tt class="filename">C:\windows\hosts</tt>
             </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
               By defaults this file in called <tt class="filename">hosts.sam</tt>.  It must
               be renamed <tt class="filename">hosts</tt> for everything to work.
              </p></div><p>
            </p></li><li><p>
             <span class="emphasis"><em>Windows NT/2000/XP Pro</em></span> <tt class="filename">c:\winnt\system32\drivers\etc\hosts</tt>
            </p></li><li><p>
             <span class="emphasis"><em>Windows XP Home</em></span> <tt class="filename">c:\windows\system32\drivers\etc\hosts</tt>
            </p></li><li><p>
             <span class="emphasis"><em>Linux/Unix</em></span> <tt class="filename">/etc/hosts</tt>
            </p></li></ul></div><p>
         </p></li></ul></div><p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.23"></a><a name="id2525237"></a><b>C.23.</b></td><td align="left" valign="top"><p>
       I'm running Gallery 1.3.4, PHP 4.0.4 and I get <tt class="literal">Call to undefined
       function: array_search() in view_photo.php</tt>?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       This is a function that was introduced in PHP 4.0.5. You can upgrade your
       version of PHP, or if you prefer, make the following change to
       <tt class="filename">view_photo.php</tt>
      </p><p>
       Insert the following at line 57 in view_photo.php
      </p><pre class="programlisting">

if (!function_exists('array_search')) {
        function array_search($needle, $haystack) {
                for ($x=0; $x &lt; sizeof($haystack); $x++) {
                        if ($haystack[$x] == $needle) {
                                return $x;
                        }
                }
                return NULL;
        }
}

      </pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        This has been fixed in Gallery 1.4.0
       </p></div></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.24"></a><a name="id2525301"></a><b>C.24.</b></td><td align="left" valign="top"><p>
       Why, when I edit an album or photo's text, do quotation marks appear
       as <tt class="literal">\'</tt> (e.g. <tt class="literal">John Doe\'s Album</tt>)?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       Your host has <tt class="literal">magic_quotes_gpc</tt> enabled in <tt class="filename">php.ini</tt>  This
       causes form variables with quotes to be escaped with backslashes.  Gallery
       tries to turn off this functionality, but in your case, this didn't succeed.
       You'll need to contact your host and ask them to turn this directive off, at
       least just for your site.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        As of Gallery 1.4.0, Gallery will strip the slashes from fields so that
        this does not happen, even if <tt class="literal">magic_quotes_gpc</tt> is on.
       </p></div></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.25"></a><a name="id2525366"></a><b>C.25.</b></td><td align="left" valign="top"><p>
       I can't extract a <tt class="literal">.tar.gz</tt> file on my Windows machine.
       Why not?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       You need to use WinZip <span class="emphasis"><em>twice</em></span>. (WinZip is a bit weird
       when it comes to <tt class="literal">.tar.gz</tt> archives).
       </p><div class="orderedlist"><ol type="1"><li><p>
          Unzip, with WinZip, like you have done.
         </p></li><li><p>
          Rename the extracted file (in this example,
          <tt class="filename">netpbm1.1-gallery1.0-linux2.2-redhat6.2-intel</tt>)
          from <tt class="filename">netpbm1.1-gallery1.0-linux2.2-redhat6.2-intel</tt>
          to <tt class="filename">netpbm1.1-gallery1.0-linux2.2-redhat6.2-intel.tar</tt>.
         </p></li><li><p>
          Unzip once more
         </p></li></ol></div><p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.26"></a><a name="id2525452"></a><b>C.26.</b></td><td align="left" valign="top"><p>
       Why do I get an <tt class="literal">EOF / read error reading magic number</tt>
       error when uploading pictures with NetPBM?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       [Answered by forum user Allistah] Replace your NetPBM binaries with binaries from
       <a href="http://prdownloads.sourceforge.net/gnuwin32/netpbm-10.6-bin.zip?download" target="_top">
       this page</a>.  Then add <tt class="filename">libjpeg.dll</tt> which can be downloaded
       from <a href="http://prdownloads.sourceforge.net/gnuwin32/libjpeg-6b-bin.zip?download" target="_top">  
       this page</a>.  Unzip the NetPBM binaries and libjpeg into the same directory.  Finally,
       re-run the <a href="gallery1-install.config-wizard.html" title="The Configuration Wizard">configuration wizard</a>
       and provide the path of these new binaries.  (original forum post:
       <a href="http://gallery.menalto.com/index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=7238" target="_top">here</a>).
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.27"></a><a name="id2525519"></a><b>C.27.</b></td><td align="left" valign="top"><p>
       Why do I get errors like this: <tt class="literal">Warning: open_basedir restriction in effect. File is in wrong
       directory in /home/johndoe/public_html/gallery/platform/fs_unix.php on line 53</tt>?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       This is caused by a PHP directive called
       <a href="http://www.php.net/manual/en/features.safe-mode.php#ini.open-basedir" target="_top">open_basedir</a>.
       Basically, your host has mis-configured this directive and not added the directory where Gallery
       is to the allowed directories where PHP can access and modify files.  You'll need to contact them
       and ask them to add the directory where you website files are located.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.28"></a><a name="id2525561"></a><b>C.28.</b></td><td align="left" valign="top"><p>
       Why do I get this error: <tt class="literal">Warning: write failed: No space left on device (28) in Unknown on line 0</tt>?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       Your host setup a quota for the web server user.  Though <span class="emphasis"><em>your account</em></span> may still have
       space left, the quota for the web server user has been overrun.  Basically, you'll need to contact
       your host and ask them to cleanup the filesystem and/or adjust the quota.  If you are your host,
       adjust the quota using <span><b class="command">edquota</b></span>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.29"></a><a name="id2525604"></a><b>C.29.</b></td><td align="left" valign="top"><p>
       Why do I get this error: <tt class="literal">Warning:  exec() has been disabled for security reasons</tt>?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       Basically, this is a form of safe mode.  Gallery requires functions like <tt class="literal">exec()</tt> to
       perform operations on images.  The steps to "fix" this problem are the same as in
       <a href="gallery1-install.faq.c.html#gallery1-install.faq.c.5">FAQ C.5</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.30"></a><a name="id2525647"></a><b>C.30.</b></td><td align="left" valign="top"><p>
       Why can't I upload images using ImageMagick on FreeBSD?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       The default install of ImageMagick on FreeBSD doesn't seem to compile with some
       important image support (e.g. JPEG), so you must explicitly tell it to.
       There are two ways of doing this.
       </p><div class="orderedlist"><ol type="1"><li><p>
          Compile ImageMagick using this command:
          <span><b class="command">
           cd /usr/ports/graphics/ImageMagick/ &amp;&amp; make -DWITH_JPEG -DWITH_TIFF -DWITH_PNG
           install clean
          </b></span>
         </p></li><li><p>
          Add the following lines to <tt class="filename">/etc/make.conf</tt>:
          </p><pre class="screen">
           WITH_JPEG=yes
           WITH_TIFF=yes
           WITH_PNG=yes 
          </pre><p>
          Then uninstall ImageMagick via ports (<span><b class="command">make deinstall clean</b></span>)
          and reinstall it (<span><b class="command">make install clean</b></span>)
         </p></li></ol></div><p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.31"></a><a name="id2525732"></a><b>C.31.</b></td><td align="left" valign="top"><p>
       How do I put my Gallery into debug mode?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       There are two ways, each pretty much equal in simplicity.
       </p><div class="itemizedlist"><ul type="disc"><li><p>
          Put your Gallery into <a href="gallery1-install.config-wizard.html" title="The Configuration Wizard">
          configuration mode</a>.  On Step 2, there will be an option to
          turn on debug mode.  Make sure this is "on" and complete the wizard.
         </p></li><li><p>
          Edit <tt class="filename">config.php</tt> manually (use the first option if you are not 
          comfortable modifying PHP files yourself).  Change this line
          </p><pre class="screen">
           $gallery-&gt;app-&gt;debug = "no";
          </pre><p>
          to
          </p><pre class="screen">
           $gallery-&gt;app-&gt;debug = "yes";
          </pre><p>
         </p></li></ul></div><p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.32"></a><a name="id2525806"></a><b>C.32.</b></td><td align="left" valign="top"><p>
       I have uploaded the NetPBM or ImageMagick binaries to my site, but
       I don't know the absolute path to specify in the configuration
       wizard.  What do I do?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       Upload a file named <tt class="filename">test.php</tt> to your
       NetPBM or ImageMagick directory.  The contents of this file should
       be
       </p><pre class="screen">

&lt;?php
print getcwd ();
?&gt;

       </pre><p>
       View this file via the web (for example: http://www.example.com/gallery/
       netpbm/test.php).  It will tell you the absolute path to specify.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.33"></a><a name="id2525848"></a><b>C.33.</b></td><td align="left" valign="top"><p>
       When I try to enter an album, I get a 404 error.  What's up?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       One of two things in happening
       </p><div class="itemizedlist"><ul type="disc"><li><p>
	  The Gallery URL you specified during the configuration wizard
	  is incorrect.  Verify that the value you specified does indeed
	  point to where Gallery is installed.
	 </p></li><li><p>
	  <span class="bold"><b>mod_rewrite</b></span> is not working.  Edit
	  your <tt class="filename">config.php</tt> file and change this line:
	  </p><pre class="screen">
	   $gallery-&gt;app-&gt;feature["rewrite"] = 1;
	  </pre><p>
	  to
	  </p><pre class="screen">
	   $gallery-&gt;app-&gt;feature["rewrite"] = 0;
	  </pre><p>          
          Voila!  The URLs should work correctly now.
         </p></li></ul></div><p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.34"></a><a name="id2525914"></a><b>C.34.</b></td><td align="left" valign="top"><p>
       I changed a value on Step 3 of the configuration wizard (or in
       <tt class="filename">config.php</tt>), but the change isn't taking effect.  What's going on?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       These values are <span class="emphasis"><em>defaults</em></span>.  They take effect for
       new top-level albums, but do not affect already existing albums.
       If you want to change the value of these parameters for already
       existing albums, edit each album's properties.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.35"></a><a name="id2525951"></a><b>C.35.</b></td><td align="left" valign="top"><p>
       Can I host images on another server to conserve space?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       The straight answer is no.  Gallery must have the images on the local
       server in order to manipulate (i.e. resize, rotate, etc..) them.  There
       is no fast, easy, and widely available way to manipulate (i.e. edit) files
       on remote servers (there are a few, but none fit all 3 criteria).
      </p><p>
       It <span class="emphasis"><em>is possible</em></span>, however, to host your images on multiple
       servers in order to distribute the bandwidth.  For instance, if you have a server
       that doesn't support PHP, but has lots of bandwidth, you can host the images
       on that server (<span class="emphasis"><em>as well as the local server</em></span>) and Gallery
       will attempt to use the images on the server with lots of bandwidth, so that
       the local server doesn't suffer so much.  More information is available in the
       <a href="gallery1-admin.mirroring.html" title="Mirroring Gallery">mirroring tutorial</a>.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.36"></a><a name="id2526006"></a><b>C.36.</b></td><td align="left" valign="top"><p>
       Why do I get errors with email on Windows?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       If you go to http://www.example.com/gallery/setup/check_mail.php and it gives you the following
       errors:
       </p><p>
        </p><pre class="screen">
         "Error! sendmail_path not set"
         and/or 
         "Error! SMTP not set"
         </pre><p>
         you will have to do some changes to your php installation.
         If you get the "Error! sendmail_path not set" you can safely ignore it on Windows, since
         it disregards the sendmail_path anyway.
         To fix the other potential problem, locate your php.ini 
         (probably under C:\Program Files\php or C:\windows), open it with a texteditor
         and find "[mail function]".
       </p><p>
        It should look something like this:
        </p><pre class="screen">
         [mail function]
         ; For Win32 only.
         SMTP = 
         ; For Win32 only.
        sendmail_from = 
        ; For Unix only.  You may supply arguments as well (default: 'sendmail -t -i').
        ;sendmail_path =
        </pre><p>
       Change SMTP to whatever smtp-server you can use that doesn't need authentication
       and sendmail_from to an email address.
       Example:
        </p><pre class="screen">
         SMTP = smtp.server.com
         sendmail_from = youremail@server.com
        </pre><p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.37"></a><a name="id2526070"></a><b>C.37.</b></td><td align="left" valign="top"><p>
       I've forgotten my admin password!  How can I reset it?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       Resetting your admin password is easy; just rerun the <a href="gallery1-install.config-wizard.html" title="The Configuration Wizard">
       configuration wizard</a> and specify a new password on step 2.
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="gallery1-install.faq.c.38"></a><a name="id2526101"></a><b>C.38.</b></td><td align="left" valign="top"><p>
       Why are my picture frames screwed up?
      </p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
       If you have a file called gallery/css/embedded_style.css (ie
       without the ".default" ending) you should update it.  Download your
       version, open it in Notepad, and cut and paste the contents of
       gallery/css/embedded_style.css.diff to the end.  You can configure
       the new classes if you want to, and then upload the new version to
       your website.
      </p><p>
       You do not need to make any changes to standalone.css.
       Since version 1.4.1 Gallery also has configurable image frames.  
       If you have customized frames for your images, they should still work 
       with 1.4.1.
      </p><p>
       However, if you would like to use the new frames, you will need to
       remove the following files, as appropriate:
       </p><pre class="screen">
        html_wrap/inline_albumthumb.frame   html_wrap/inline_photo.frame
        html_wrap/inline_gallerythumb.frame html_wrap/inline_photothumb.frame
        html_wrap/inline_moviethumb.frame
       </pre><p>
      </p><p>
       If you didn't touch the CSS or frame files, this probably means that
       you didn't override the files upon upgrade.  Make sure that your FTP
       client overrides the old files and upgrades to the new ones.
      </p></td></tr></tbody></table></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="gallery1-install.faq.b.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="gallery1-install.faq.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="gallery1-install.faq.d.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">B. Configuring Gallery </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> D. Migrating Gallery</td></tr></table></div></body></html>
