2004-02-27  Alan Harder  <alan.harder@sun.com> 1.4.3-cvs-b71

	* Bugfix #905979: added missing > in </form in login.php
	  (thanks to Laurent Granger)

2004-02-27  Alan Harder  <alan.harder@sun.com> 1.4.3-cvs-b71

	* Fixed typo

2004-02-27  Alan Harder  <alan.harder@sun.com> 1.4.3-cvs-b70

	* Bugfix #800875: Mostly fixed by #598025; this completes the fix
	  by avoiding warning messages during album upgrade due to this bug.

2004-02-27 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b69

	* Bugfix: Fix missing links to fullsize image when fitToWindow is set.
	  Thanks to Vallimar for catching this.

2004-02-26  Alan Harder  <alan.harder@sun.com> 1.4.3-cvs-b68

	* Added missing "global $gallery" in code from -b57.
	  (thanks to Jay Rossiter)

2004-02-26  Alan Harder  <alan.harder@sun.com> 1.4.3-cvs-b67

	* Bumped album version and added integrityCheck code to rebuild
	  album highlights, since changes to highlight code (1.4.3-cvs-b57)
	  can change the dir/filename where it looks for the highlight and
	  may need to rebuild some to the correct size.

2004-02-26 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b66

	* New: Added Gallery integration into nsnnuke.
	  Code was done by Dariush Molavi. i only did some adjustments and committed.

2004-02-26 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b65

	* Bugfix: #904326. $gallery->app->selfRegCreate = "yes"; was ignored,
	  when Gallery was not in english because the check was against translated "yes".

2004-02-25  Andrew Lindeman <joyoflinux@yahoo.com> 1.4.3-cvs-64

	* Included util.php in GHCC, which is required for the security
	  checks.
	  
2004-02-25  Andrew Lindeman <joyoflinux@yahoo.com> 1.4.3-cvs-63
	
	* Added security checks to GHCC and enabled it.
	
	* Fixed a few bugs (including 826586 and 869838) that deal with
	  certain characters needing to be escaped in shell
	  
	* Reduced the number of eval() statements needed by converting
	  some to use variable variables.  This should fix 843268.

2004-02-24  Jay Rossiter <cryptographite@users.sourceforge.net> 1.4.3-cvs-b62

	* Prevent infinite redirection for directory names which
	  are physically part of the gallery directory. (Bug #903168)

2004-02-24  Alan Harder  <alan.harder@sun.com> 1.4.3-cvs-b61

	* Performance improvement in album/image count for gallery top
	  level; traverse album list once instead of 3 times.

2004-02-24  Alan Harder  <alan.harder@sun.com> 1.4.3-cvs-b60

	* Bugfix #805443 (75% fix): check hidden items and no-permission
	  subalbums to correctly display album/image count in header of
	  album view and in "album contains:" count in subalbums and at
	  top level.  Count in header of gallery top level still incorrect.

	* More on #598025: regenerate highlight with correct size after
	  rotating the highlight.

2004-02-24 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b59

	* Bugfix: The lang defaults were not set correctly.

	* Bugfix: Renamed missing validate_email() in gallery_validate_email()

	* Bugfix: Skins selection was broken.

	Thanks to Vallimar for catching this.

2004-02-24  Alan Harder  <alan.harder@sun.com> 1.4.3-cvs-b58

	* Bugfix #470766: Avoid filename conflict between thumbnails of
	  a movie item and jpeg item with same basename.

2004-02-24  Alan Harder  <alan.harder@sun.com> 1.4.3-cvs-b57

	* Bugfix #598025: Create highlights to match thumbnail size of
	  parent album, don't stretch/compress existing thumbnail to
	  desired size.

	* Bugfix: Copy clicks/keywords/etc to the right AlbumItem when
	  moving photo(s) to an album that has add-to-beginning set.

	* Bugfix: added missing ?> in errors/unconfigured.php

	* delete_photo: set title to "Delete Album" when deleting an album.

2004-02-24 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b56

	* Fix: _() was not used correct in delete_photo

	* Change: Switched back to former .sh scripts as the 
	          Debian Package Maintainer uses his own version.

2004-02-24  Pierre-Luc Paour  <paour@users.sourceforge.net> 1.4.3-cvs-b55

	* Fixed bug #903434: add_photos_frame.php was not using makeGalleryUrl
	  to generate a URL, which lost the CMS variables.

2004-02-24 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b54

	* Bugfix: #869311 and #802716, fitToWindow did not work correct.
	  Thanks for help and patch to Jay Rossiter.

2004-02-24 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b53

	* Bugfix: Added missing echo for GeekLog Header.

	* Bugfix: Configwizard now runs fine when embedded and Gallery has debian structure.
	  - Introduced function get_GalleryPathes wich defines 3 constants:
	  --- GALLERY_CONFDIR
	  --- GALLERY_SETUPDIR
	  --- GALLERY_BASE
	
	  - A little rewrite of getStyleSheets were necessary.

	* Change: Again a little change in bash Scripts.

2004-02-24  Bharat Mediratta  <bharat@menalto.com> 1.4.3-cvs-b52

	* Further fix for bug #881690.  We weren't detecting the album name
	  correctly, and weren't saving the album name field properly after
	  migrating the album name.

2004-02-23  Chris Schwerdt <muti@afterglo.ws> 1.4.3-cvs-b51

	* Fixed Bug #902918: If magic quotes is enabled, gallery remote
	  captions (among a few other things) do not get stripped of quote
	  escapes.

2004-02-23  Beckett Madden-Woods  <beckett@beckettmw.com> 1.4.3-cvs-b50

	* Fixed Bug #881690: mod_rewrite couldn't transcribe URLs for albums
	  with a '.' in the name. Prevent creation/rename with '.'  had been
	  done already, but this fix bumps the album version, and has the
	  integrityCheck() convert any existing albums with the '.' (fix by
	  cryptographite)

	* Fixed Bug #868522: breadcrumb wasn't rendering properly for nested
	  albums in Offline Mode. Also removed "View full size on/off" buttons
	  from offline mode, since they don't work. (fix by mindless)

	* Fixed Bug #862137: album rename neglected to save new name in the
	  .dat file. (fix by jmullan)

	* "Reorder photo" now says "reorder" rather than "move", which we
	  reserve for "move photo". Also fixed Bug #842845, which was a
	  JavaScript bug in move_photo.php. (fix by cryptographite)

	* Fixed Bug #836896: Changed 'uname' to 'username' in login.php to
	  work around form autofill issues in some browsers.

	* Fixed Bug #806972: We now block new creation of albums whose names
	  match files/directories in the gallery directory. This was causing
	  problems with mod_rewrite enabled. (fix by cryptographite)
	
2004-02-22  Don Willingham <donwillingham@users.sourceforge.net> 1.4.3-cvs-b49

	* Bugfix: Users without view comments could still search and find based
	  on comments

2004-02-21  Bharat Mediratta  <bharat@menalto.com> 1.4.3-cvs-b48

	* Added GALLERY_CONFDIR to secure.sh, changed "htaccess" to ".htaccess"
	  so that it actually changes the modes on the right file

	* Fixed permissions issue in configure.sh where we were setting
	  config.php and .htaccess to the wrong modes (755), changed "htaccess"
	  to ".htaccess" so that it actually changes the modes on the right
	  file

2004-02-21  Bharat Mediratta  <bharat@menalto.com> 1.4.3-cvs-b47

	* Fixed an issue introduced in b45 where the config wizard would step 
	  on local changes made in gallery/.htaccess

2004-02-21  Andrew Lindeman <joyoflinux@yahoo.com> 1.4.3-cvs-b46

	* Removed test.php

2004-02-21  Christian Mohn  <ch-moh@online.no> 1.4.3-cvs-b45

    * Fixed bug #818376: Bad-rewrite rule in setup/write.inc when
	  Gallery installed in webroot folder. 
	  Thanks to sgartner for the fixed code.

	* Fixed bad date in ChangeLog entry for 1.4.3-cvs-b34

2004-02-21  Christian Mohn  <ch-moh@online.no> 1.4.3-cvs-b44

    * Changed wrong image height in navphoto.inc
      The table cell height was set to 28, and not 18. This only
	  affected the first photo page in an album.
	  Reported by autobulb in the forums.

2004-02-20  Beckett Madden-Woods  <beckett@beckettmw.com> 1.4.3-cvs-b43

	* Added integration for Mambo CMS <www.mamboserver.com>.
	  Left todo for integration:
	    - Install/config. documentation
	    - Check for minimum Gallery/Mambo versions

2004-02-18  Christian Mohn  <ch-moh@online.no> 1.4.3-cvs-b42

    * Added missing GALLERY_CONFDIR="." in configure.sh
	  Thanks to Luka Kladric for reporting

2004-02-18  Beckett Madden-Woods  <beckett@beckettmw.com> 1.4.3-cvs-b41

	* Fixed Bug #844125: missing CSS class in login.php. (Fix by
	  cryptographite)

	* Fixed Bug #885369: search.php is now disabled for non-admins if the
	  search engine is disabled in the Config. Wizard. Previously, the page
	  was merely hidden, but still worked if linked to directly. (Fix by
	  cryptographite)

2004-02-18  Andrew Lindeman <joyoflinux@yahoo.com> 1.4.3-cvs-b40
	
	* Rewrote the setup/ghcc.php script.  It's still not linked from
	  anywhere just yet.

2004-02-18  Don Willingham <donwillingh@users.sourceforge.net> 1.4.3-cvs-b39

	* Change: html_wrap/inline_imagewrap.inc in response to sf.net bug
	  #890804 titled "exposed php variable in inline_imagewrap.inc"
	  by changing $borderColor to <?php echo $borderColor ?>.
	  Thanks to Ron Rothman for reporting this bug.

2004-02-17  Pierre-Luc Paour  <paour@users.sourceforge.net> 1.4.3-cvs-b38

	* Sliced off the ChangeLog at the latest release. Spill-over is
	  archived in ChangeLog.archive.gz to be more compact and make
	  cvs updating quicker.
	* Re-enabled Christian's fix in fs_win32.php, we're finally agreed
	  on how to handle this.

2004-02-17 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b37

	* Change: Adjust secure.sh and config.sh to fit with Debian.

2004-02-16 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b36

	* Change: Config Wizard is global $GALLERY_BASEDIR free.

	* Bugfix: Correct one missing gallery_validate_email rename.

	* Change: Move checkVersions from util.php into settup/functions.inc

	* Change: Added GPL / Copyright to setup/* files.

2004-02-14 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b35

	* Change: Renamed validate_email() in gallery_validate_email()
		  to avoid problems with PNphpBB2 integration.

2004-02-12  Pierre-Luc Paour  <paour@users.sourceforge.net> 1.4.3-cvs-b34

	* Simplified and strengthened the hack checks in slideshow.php, on
	  Bharat's advice.

2004-02-11  Pierre-Luc Paour  <paour@users.sourceforge.net> 1.4.3-cvs-b33

	* Reverted Christian "fix" to remove a cmd.exe invocation: it failed
	  on my machine.

2004-02-11  Pierre-Luc Paour  <paour@users.sourceforge.net> 1.4.3-cvs-b32

	* Fixed Gallery-wide hack check, fixed gallery-wide recursion for
	  applet slideshow.

2004-02-11 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b31

	* New: Added Check for correct working __FILE__ in Config Wizard Step1.

2004-02-11 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b30
	
	* Bugfix: Gallery wide Slideshow were broken.

	* Change: Adjust filelist for translation.

2004-02-10  Pierre-Luc Paour  <paour@users.sourceforge.net> 1.4.3-cvs-b29

	* Made the slideshow.php page modular by selectively incuding either the
	  applet, high or low version. Also better homogeneity between high and
	  low versions.
	* Introduced a cookie that keeps the user's preference for which slideshow
	  to use.
	* Added support in the slideshow applet for honoring settings for number
	  of images, randomness and recursiveness.

	High regression potential, please test slideshow intensively.

2004-02-11 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b28

	* Bugfix: Fixed a quoting bug which causes a Javascript error in some popps.
		  This Bug was reintroduced with my phpBB2 merges in 1.4.3-cvs-b2.

	* Change: Added new function for setting Default Language Values.

	* Bugfix: When comments_anonymous = "no" not logged in users couldnt make comments.

	* Bugfix: Highlight Album was an option even if the subalbum has no photo.

	* Change: Little GUI enhancements.

2004-02-09  Bharat Mediratta  <bharat@menalto.com> 1.4.3-cvs-b27

	* Add additional security check to prevent geeklog integration from
	  opening up a remote exploit

2004-02-10 Don Willingham <donwillingham@users.sourceforge.net> 1.4.3-cvs-b26

	* Fix a parse error caused by a missing comma (,) introduced by last revision

2004-02-10 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b25 

	* New: Gallery can now run embedded in GeekLog (http://www.geeklog.net)
	  - Added New Section in Step2 to set embedded type and Geeklog Path
	  - Added GeekLog classes so that Galley uses their users.

2004-02-09  Pierre-Luc Paour  <paour@users.sourceforge.net> 1.4.3-cvs-b24

	* Fixed a bug in gallery_remote2.php which caused all directories
	  to be returned to GR under some circumstances.

2004-02-06 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b23

	* Bugfix: Made a Workaround for strange Environments with 
	  Magic Quotes On and no or ignored .htaccess files.

	* Change: Stripslahes in hidden config fiels.

	* Change: Next try to get my jenskin into cvs.

2004-02-02  Beckett Madden-Woods  <beckett@beckettmw.com> 1.4.3-cvs-b22

	* Updated copyright to 2000-2004.

2004-02-02  Don Willingham <donwillingham@users.sourceforge.net> 1.4.3-cvs-b21

	*  Allows admins to search comments by IP address, by adding IP to the
	   search string.

2004-02-02  Christian Mohn <ch-moh@online.no> 1.4.3-cvs-b20

        * Removed cmd.exe call in platform/fs_win32.php as PHP itself calls
          this when executing binaries in Win32. 
          This caused two cmd.exe processes running every time a binary 
          was called on that platform.
        
        * Added VBS as a valid executable extension in platform/fs_win32.php
          VBScript files are valid executables in Windows. :)

        * Changed the temp dir from using the system %temp% variable in
          fs_win32, to use the Gallery temp dir instead. You may not have
          allowed PHP access to %TEMP%. This could cause permissions related
          problems.


2004-02-01  Bharat Mediratta  <bharat@menalto.com> 1.4.3-cvs-b19

	* Fixed a bug in save_photos caused by the new tabbed interface.  We
	  were not properly referencing the opener so the progress dialog was
	  not going away after adding photos.

2004-01-30  Bharat Mediratta  <bharat@menalto.com> 1.4.3-cvs-b18

	* Fixed several issues in add_photos:
	  - Removed ob_start/ob_end buffering code; if includes are leaking
	    text we want to know about it and fix it.
	  - Got rid of a warning when add_photos_mode cookie isn't set
	  - Fixed warnings in save_photos.php when you submit an empty form
	  - Added window.focus() to add_photos.php so that it doesn't pop under
	  - Fixed Javascript to display progress dialog in upload forms so that
	    they refer to the proper object

2004-01-30 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b17
	
	* Change: Skin Update

2004-01-30 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b16

	* New: Added Jenskin. A Skin that looks likt the configwizard.

	* Change: Some cosmetic changes.

2004-01-30 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b15

	* Bugfix: Added GALLERY_BASEDIR for inclusion of frame files.
		  and add_photos_frame.php to safetoinclude array.
	
2004-01-29  Pierre-Luc Paour  <paour@users.sourceforge.net> 1.4.3-cvs-b14

	* Added pretty nasty hack to reload the album page in Mini applet
	  mode after upload completes (this relies on add_photos_frame.php
	  and add_photos_refresh.php; if anyone has a better way of
	  executing JavaScript from Java, I'd like to know).

	* Added cookie so that add_photos opens on same tab the user
	  selected last time he used add_photos.

2004-01-29 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b13

	* Bugfix: Added GALLERY_BASEDIR for inclusion of includes files.

	* Bugfix: Use function to create URLs.

	* Bugfix: Added missing file.

2004-01-29 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b12

	* Change: Created lib/Form.php.

	* New: Added "(un)check all" and "invert" selection in config wizard for languages.

	* Change: Added possible for an addon below multiple choices in config wizard.

	* Bugfix: In javascript in the 2nd parameter (name)
		  in window.open are no spaces allowed.
		  NS doesnt care. IE does and result an error when trying to print via Fotokasten.

	* Bugfix: The Radiobutton for Shutterflys Donation is set always.
		  So its saved always as Service.
		  Fix is a workaround.

	* "Bugfix": - Added new css class .adminform.
		    - Set textcolor corresponding in ALL skins.
		    This fixes the "bug" that text was not readable in admin options.	

2004-01-29  Pierre-Luc Paour  <paour@users.sourceforge.net> 1.4.3-cvs-b11

	* Move add_photos.php includes into includes/add_photos, per Jens' request

	* Added support in gallery_remote2.php for:
		- getting sub-albums as well as images in fetch-album-images
		- returning the list of root albums in fetch-album-images when
		  invoked with a blank set_albumName
		- getting all albums (including non-writeable) in fetch-albums
	* Made the add_photos menu a CSS-based tab list.

	* Fixed applet invocation in both upload applets.

2004-01-27  Pierre-Luc Paour  <paour@users.sourceforge.net> 1.4.3-cvs-b10

	* Tweaked slideshow applet invocation.

2004-01-27 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b9

	* Bugfix: Missing closing body tag in view_photo.php caused wrong alignment in IE.

	* Change: Removed table line as spacer under searchbox and used css instead.

	* Change: Reworked the display of note when broken albums are found.

	* Change: Renamed and moved fitToWindow in js folder. Added documentation.

	* Bugfix: Fixed Bug introduced in 1.4.2-cvs-b11 (by me).
                  Changed doctype back to be more undetailed.
                  The detailed doctype caused the fitToWindow script not to work when
                  using IE and Gallery was standalone.

2004-01-26  Bharat Mediratta  <bharat@menalto.com> 1.4.3-cvs-b8

	* Overhauled the build_manifest script so that it reads the CVS Entries
	  file to find appropriate files to check for version ids.  This way we
	  don't have to maintain a file list (which is error prone).

2004-01-26 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b7

	* Bugfix: Changing album permissions who can view comments were broken.

	* Bugfix: When embedded in phpBB2, Permissions for "only logged in" users were broken.
		  Because phpBB2's anonymous user is also logged in. So we have to ignore this.

2004-01-26  Pierre-Luc Paour  <paour@users.sourceforge.net> 1.4.3-cvs-b6

	* Removed Add Photos from the admin menu
	* Changed Add Photo to a tab-based window
	* If GR Applet JARs are present, added two upload tabs: GR Applet Mini and
	  GR Applet
	* Replaced slideshow.php with an Applet-based version. The old slideshow is
	  in slideshow_high.php.
	* The applets are self-signed, you have to trust me in order to run them.
	  This doesn't work on Safari for some reason, so the applet fails on Mac.

	I expect these changes to break some stuff, and I'll be grateful for help
	fixing. Also, plese pipe up with suggestions!

2004-01-26 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b5

	* New: Added Martin Smallridge to AUTHORS and give him credits for his phpBB Code.

2004-01-24  Bharat Mediratta  <bharat@menalto.com> 1.4.3-cvs-b4

	* Fixed remote security exploit in init.php and setup/init.php where
	  one extract() call can be used to overwrite the input for a
	  subsequent extract() call letting users overwrite GALLERY_BASEDIR

2004-01-23 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b3

	* New: added contrib folder with subfolder phpBB2 with documentation
	       and files for phpBB2.

	* New: Added g1-icon.gif

	* Bugfix: When not embedded and mod_rewrite was on, makeGalleryUrl was broken.

	* New: lib folder.

	* Change: extracted all language related functions from util.php
		  into lib/lang.php and include them in util.php.

2004-01-23 Jens Tkotz <jens@peino.de> 1.4.3-cvs-b2

	* New: implemented Code for Gallery phpBB2 integration.

	  - Gallery is now ready to be integrated in phpBB2 (2.0.6), but unfortunately
	    you have to modify phpBB2 code and put a new file in your phpBB2 installation.
	    See documentation in the contrib folder.

	  - Detection if we are in phpBB2 ($GALLERY_EMBEDDED_INSIDE_TYPE = 'phpBB2';)

	  - new classes for phpBB2 users.

	  - rewrite of fitToWindow.

2004-01-22  Joan McGalliard  <gallery@joanhenge.plus.com> 1.4.3-cvs-b1

	* This is the beginning of development on v1.4.3.

FOR THE REST OF THE CHANGELOG, SEE ChangeLog.archive.gz
